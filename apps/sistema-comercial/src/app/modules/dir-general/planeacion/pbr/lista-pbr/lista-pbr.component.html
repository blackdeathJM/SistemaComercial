<ng-container *ngIf="_planeacion">
    <mat-card class="bg-gray-300 dark:bg-gray-800 m-4" @zoomIn>
        <mat-card-header class="tarjeta-mat-cabecera border-b-rose-500"><span>{{_planeacion.descripcion}} --- {{_planeacion.ano}}</span></mat-card-header>
        <mat-card-title>
            <mat-expansion-panel class="mb-4 border-b-cyan-400 border-b-2">
                <mat-expansion-panel-header class="border-b-2 border-b-cyan-400">
                    <mat-panel-title>Presupuesto basado en resultados</mat-panel-title>
                </mat-expansion-panel-header>
                <mat-button-toggle-group>
                    <div class="flex flex-auto flex-wrap">
                        <mat-button-toggle class="rounded-none" *ngFor="let pbr of _planeacion.pbrCuestionario; trackBy:trackByFn" [value]="pbr" (change)="cambioDeSeleccion($event)">
                            <span class="text-left">{{pbr?.idIndicador}}</span>
                        </mat-button-toggle>
                    </div>
                </mat-button-toggle-group>
            </mat-expansion-panel>
        </mat-card-title>
        <mat-card-content>
            <section class="grid grid-cols-8 gap-4">
                <span class="border-b-2 text-xl text-green-600 text-center col-span-full">{{elementosPbr?.idIndicador}}</span>
                <span class="detalle-span">Variable de origen</span>
                <span class="border-b-2">{{elementosPbr?.variableOrigen | defaultValue: '---'}}</span>
                <span class="detalle-span">Dato</span>
                <span class="border-b-2 col-span-3">{{elementosPbr?.dato | defaultValue: '---'}}</span>
                <span class="detalle-span">Unidad</span>
                <span class="border-b-2">{{elementosPbr?.unidad | defaultValue: '---'}}</span>

                <span class="detalle-span">Descripcion</span>
                <span class="border-b-2 col-span-7">{{elementosPbr?.descripcion}}</span>

                <span class="detalle-span">Enero</span>
                <span class="border-b-2">{{elementosPbr?.enero | defaultValue: '---'}}</span>
                <span class="detalle-span">Febrero</span>
                <span class="border-b-2">{{elementosPbr?.febrero | defaultValue: '---'}}</span>
                <span class="detalle-span">Marzo</span>
                <span class="border-b-2">{{elementosPbr?.marzo | defaultValue: '---'}}</span>
                <span class="detalle-span">Trimestre 1</span>
                <!--                        <span class="border-b-2">{{[pbr?.marzo, pbr?.febrero, pbr?.enero] | calculoPbr: pbr?.esSumatoriaTrim}}</span>-->
                <span class="border-b-2">{{elementosPbr?.trim1 | defaultValue: '---'}}</span>

                <span class="detalle-span">Abril</span>
                <span class="border-b-2">{{elementosPbr?.abril | defaultValue: '---'}}</span>
                <span class="detalle-span">Mayo</span>
                <span class="border-b-2">{{elementosPbr?.mayo | defaultValue: '---'}}</span>
                <span class="detalle-span">Junio</span>
                <span class="border-b-2">{{elementosPbr?.junio | defaultValue: '---'}}</span>
                <span class="detalle-span">Trimestre 2</span>
                <span class="border-b-2">{{elementosPbr?.trim2 | defaultValue: '---'}}</span>


                <span class="detalle-span">Julio</span>
                <span class="border-b-2">{{elementosPbr?.julio | defaultValue: '---'}}</span>
                <span class="detalle-span">Agosto</span>
                <span class="border-b-2">{{elementosPbr?.agosto | defaultValue: '---'}}</span>
                <span class="detalle-span">Septiembre</span>
                <span class="border-b-2">{{elementosPbr?.septiembre | defaultValue: '---'}}</span>
                <span class="detalle-span">Trimestre 3</span>
                <span class="border-b-2">{{elementosPbr?.trim3 | defaultValue: '---'}}</span>


                <span class="detalle-span">Octubre</span>
                <span class="border-b-2">{{elementosPbr?.octubre | defaultValue: '---'}}</span>
                <span class="detalle-span">Noviembre</span>
                <span class="border-b-2">{{elementosPbr?.noviembre | defaultValue: '---'}}</span>
                <span class="detalle-span">Diciembre</span>
                <span class="border-b-2">{{elementosPbr?.diciembre | defaultValue: '---'}}</span>
                <span class="detalle-span">Trimestre 4</span>
                <span class="border-b-2">{{elementosPbr?.trim4 | defaultValue: '---'}}</span>

                <span class="detalle-span col-start-7">Acumulado final</span>
                <span class="border-b-2">{{elementosPbr?.total | defaultValue: '---'}}</span>
            </section>
            <ngx-ui-loader [loaderId]="loader"></ngx-ui-loader>
        </mat-card-content>

        <mat-card-actions class="tarjeta-mat-acciones border-t-rose-500">
            <div class="flex flex-auto gap-4">
                <button class="flex-auto" mat-flat-button color="primary" [disabled]="desNuevoReg" (click)="nvoElemento()">
                    <mat-icon svgIcon="add"></mat-icon>
                    Nuevo registro
                </button>
                <button class="flex-auto" mat-flat-button color="accent" [disabled]="desEditarReg" (click)="editarPbr()">
                    <mat-icon svgIcon="edit"></mat-icon>
                    Editar registro
                </button>
                <button class="flex-auto" mat-flat-button color="warn" [disabled]="desEliminarReg" (click)="eliminarPbr()">
                    <mat-icon svgIcon="mat_outline:delete"></mat-icon>
                    Eliminar registro
                </button>
                <button mat-flat-button color="accent" class="flex-auto" (click)="regAvances()">
                    <mat-icon svgIcon="assignment"></mat-icon>
                    Registrar avances
                </button>
                <button mat-flat-button color="accent" class="flex-auto">
                    <mat-icon svgIcon="heroicons_outline:printer"></mat-icon>
                    Imprimir
                </button>
            </div>
        </mat-card-actions>
    </mat-card>
</ng-container>
