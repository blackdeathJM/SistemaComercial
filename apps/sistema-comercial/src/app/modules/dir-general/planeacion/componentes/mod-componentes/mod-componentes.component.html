<section class="flex flex-col flex-auto min-w-0" @zoomIn>

    <mat-toolbar color="accent" class="flex flex-auto border-b-4 border-b-cyan-500 items-center pt-5 gap-4">
        <mat-form-field class="basis-1/4" *ngIf="seleccionQuery.select() | async as seleccion">
            <mat-select (valueChange)="filCentroGestor($event)" placeholder="Selecciona un centro gestor">
                <mat-option *ngFor="let centroGestor of seleccion.centroGestor" [value]="centroGestor">{{centroGestor}}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="flex-auto">
            <mat-select (valueChange)="pbrSeleccionado($event)" placeholder="Selecciona un elemento" [hideSingleSelectionIndicator]="!planeacionQuery.selectPrincipal()">
                <ng-container *ngIf="planeacionQuery.selectPrincipal()">
                    <mat-option *ngFor="let pbr of planeacionQuery.compCuestionarioPbr()" [value]="pbr">{{pbr.dato}}</mat-option>
                </ng-container>
                <ng-container *ngIf="!planeacionQuery.selectPrincipal()">
                    <mat-option *ngFor="let pbr of planeacionQuery.compCuestionarioPbr()" [value]="pbr">
                        <div class="flex gap-8 items-center">
                            <span class="flex-grow">{{pbr.dato}}</span>
                            <button mat-icon-button color="primary" (click)="seleccionarPbr(true)" matTooltip="Asignarlo al id principal">
                                <mat-icon svgIcon="feather:chevron-right"></mat-icon>
                            </button>
                            <button mat-icon-button color="primary" (click)="seleccionarPbr( false)" matTooltip="Asignar al id adcional">
                                <mat-icon svgIcon="feather:chevrons-right"></mat-icon>
                            </button>
                        </div>
                    </mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>
        <div>{{planeacionQuery.selectPrincipal()}}</div>
        <mat-form-field class="basis-1/4" *ngIf="planeacionQuery.compSumatoriasPbr().length > 0">
            <mat-select (valueChange)="sumatoriaSeleccionada($event)" placeholder="Selecciona una sumatoria">
                <!--                <ng-container>-->
                <!--                    <mat-option *ngFor="let sumatoria of planeacionQuery.compSumatoriasPbr()" [value]="sumatoria">-->
                <!--                        <div class="flex gap-8 items-center">-->
                <!--                            <span class="flex-grow">{{sumatoria.descripcion}}</span>-->
                <!--                            <button mat-icon-button color="primary" (click)="seleccionarPbr(true)" matTooltip="Asignarlo al id principal">-->
                <!--                                <mat-icon svgIcon="feather:arrow-right"></mat-icon>-->
                <!--                            </button>-->
                <!--                            <button mat-icon-button color="primary" (click)="seleccionarPbr( false)" matTooltip="Asignar al id adcional">-->
                <!--                                <mat-icon svgIcon="feather:arrow-down"></mat-icon>-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </mat-option>-->
                <!--                </ng-container>-->
                <ng-container>
                    <mat-option *ngFor="let sumatoria of planeacionQuery.compSumatoriasPbr()" [value]="sumatoria">{{sumatoria.descripcion}}</mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>
    </mat-toolbar>

    <article class="flex-auto p-2 sm:p-4">
        <div class="h-400 min-h-400 max-h-400">
            <article class="flex flex-col flex-auto">
                <mat-tab-group [(selectedIndex)]="indice" (selectedIndexChange)="cambioIndice($event)">
                    <mat-tab label="Form comun">
                        <ng-container *ngIf="indice === 0">
                            <app-mod-comp-comun></app-mod-comp-comun>
                        </ng-container>
                    </mat-tab>
                    <mat-tab label="Form PTAR">
                        <ng-container *ngIf="indice === 1">

                        </ng-container>
                    </mat-tab>
                </mat-tab-group>
            </article>

        </div>
    </article>
</section>
