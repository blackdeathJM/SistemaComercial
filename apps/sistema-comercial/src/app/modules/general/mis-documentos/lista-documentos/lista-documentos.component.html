<div class="flex flex-col mx-4">
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="nombreCompleto">
            <mat-header-cell *matHeaderCellDef>Usuario</mat-header-cell>
            <mat-cell *matCellDef="let doc">{{doc.resolveEmpleado.nombreCompleto}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="asunto">
            <mat-header-cell *matHeaderCellDef>Asunto</mat-header-cell>
            <mat-cell *matCellDef="let doc">{{doc.asunto}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="identificadorDoc">
            <mat-header-cell *matHeaderCellDef>Identificador</mat-header-cell>
            <mat-cell *matCellDef="let doc">{{doc.identificadorDoc}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="dependencia">
            <mat-header-cell *matHeaderCellDef>Dependencia</mat-header-cell>
            <mat-cell *matCellDef="let doc">{{doc.dependencia}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="usuarios">
            <mat-header-cell *matHeaderCellDef>Usuarios enviado</mat-header-cell>
            <mat-cell *matCellDef="let doc">
                <div class="flex flex-0 items-center py-2">
                    <ng-container *ngFor="let usuarioEnviado of doc.resolveEmpleadoEnviado">
                        <img class="inline-block h-10 w-10 rounded-full object-cover object-center ring-2" [src]="usuarioEnviado?.avatar" [matTooltip]="usuarioEnviado?.nombreCompleto" *ngIf="usuarioEnviado.avatar" alt="avatar">
                        <div class="flex items-center justify-center uppercase h-10 w-10 rounded-full ring-2" [matTooltip]="usuarioEnviado?.nombreCompleto" *ngIf="!usuarioEnviado.avatar">
                            {{usuarioEnviado?.nombreCompleto.charAt(0)}}
                        </div>
                    </ng-container>
                </div>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="proceso">
            <mat-header-cell *matHeaderCellDef>Estatus</mat-header-cell>
            <mat-cell *matCellDef="let doc">
                <mat-icon [ngClass]="doc.proceso === 'pendiente'? 'text-red-700': 'text-green-700'" [svgIcon]="doc.proceso === 'pendiente'? 'warning': 'done'"></mat-icon>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="columnasMostrar"></mat-header-row>
        <mat-row class="cursor-pointer odd:bg-gray-300 dark:odd:bg-gray-900" (click)="seleccionarDoc(row)" *matRowDef="let row; columns: columnasMostrar;"></mat-row>
    </table>
    <div class="mt-4">
        <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
    </div>
    <ngx-ui-loader [loaderId]="loaderListaDocs"></ngx-ui-loader>
</div>


<ng-template #noHayDocs>
    <app-sin-datos></app-sin-datos>
</ng-template>
