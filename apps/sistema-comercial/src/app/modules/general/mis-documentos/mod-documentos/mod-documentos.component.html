<h2 mat-dialog-title>Dar de alta documentos</h2>
<mat-dialog-content>
    <form [formGroup]="formDocs" enctype="multipart/form-data">
        <div class="flex flex-col">
            <div class="flex gap-3">
                <mat-form-field class="flex-auto">
                    <mat-label>Identificador del documento</mat-label>
                    <input matInput type="text" formControlName="identificadorDoc"/>
                    <mat-error>{{formDocs.controls.identificadorDoc['errorMessage']}}</mat-error>
                </mat-form-field>
                <mat-form-field class="flex-auto">
                    <mat-label>Dependencia</mat-label>
                    <input matInput type="text" formControlName="dependencia"/>
                    <mat-error>{{formDocs.controls.dependencia['errorMessage']}}</mat-error>
                </mat-form-field>
            </div>
            <mat-form-field>
                <mat-label>Asunto</mat-label>
                <input matInput type="text" formControlName="asunto"/>
                <mat-error>{{formDocs.controls.asunto['errorMessage']}}</mat-error>
            </mat-form-field>
            <div class="flex gap-4">
                <mat-form-field class="flex-auto">
                    <mat-label>Selecciona los usuarios a enviar el documento</mat-label>
                    <mat-select multiple formControlName="usuarios">
                        <mat-option *ngFor="let empleado of empleadosSesion" [value]="empleado._id">{{empleado.nombreCompleto}}</mat-option>
                    </mat-select>
                    <mat-error>{{formDocs.controls.usuarios['errorMessage']}}</mat-error>
                </mat-form-field>
                <mat-form-field class="flex-auto">
                    <mat-label>Selecciona el tipo de documento</mat-label>
                    <mat-select formControlName="tipoDoc">
                        <mat-option [value]="tipo" *ngFor="let tipo of tiposDoc">{{tipo}}</mat-option>
                    </mat-select>
                    <mat-error>{{formDocs.controls.tipoDoc['errorMessage']}}</mat-error>
                </mat-form-field>
            </div>

            <mat-form-field class="fuse-mat-textarea flex-auto">
                <mat-label>Comentario</mat-label>
                <textarea matInput formControlName="comentario"></textarea>
            </mat-form-field>
            <div class="flex gap-4">
                <mat-form-field class="flex-auto">
                    <mat-label>Fecha recepcion</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="fechaRecepcion" [min]="minDate" [max]="maxDate" readonly>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error>{{formDocs.controls.usuarios['errorMessage']}}</mat-error>
                </mat-form-field>
                <mat-form-field class="flex-auto">
                    <mat-label>Fecha entrega</mat-label>
                    <input matInput [matDatepicker]="fechaE" formControlName="fechaLimiteEntrega" [min]="maxDate" readonly>
                    <mat-datepicker-toggle matSuffix [for]="fechaE"></mat-datepicker-toggle>
                    <mat-datepicker #fechaE></mat-datepicker>
                </mat-form-field>
            </div>
            <file-upload simple class="bg-gray-600 border-gray-800 text-yellow-50" formControlName="file">
                <ng-template let-file #placeholder>
                    <ng-container *ngIf="file; else emptyList">
                        {{file.name}}
                    </ng-container>
                    <ng-template #emptyList>
                        Selecciona un solo archivo en formato pdf
                    </ng-template>
                </ng-template>
                <ng-template let-control="control" #button>
                    Examinar
                </ng-template>
            </file-upload>

            <!--            <input type="file" formControlName="file" (change)="cambiar($event)" accept="application/pdf"-->
            <!--                   class="block mb-4 w-full text-1xl text-gray-900 bg-gray-50 rounded-lg-->
            <!--                                                       border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700-->
            <!--                                                       dark:border-gray-600 dark:placeholder-gray-400" id="large_size">-->
            <mat-checkbox class="my-4" color="primary" [checked]="false" formControlName="esInterno">Es interno?</mat-checkbox>
        </div>
    </form>
</mat-dialog-content>
<app-registros (reg)="reg(false)" (can)="cerrar()" [cargando]="cargando" [deshabilitar]="formDocs.invalid || cargando"></app-registros>
